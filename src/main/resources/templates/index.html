<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>Aplicação Para Conversão de Vídeo</title>
<th:block th:include="layout/header"></th:block>
</head>
<body>
	<div class="container">

		<div class="mb-3">
			<div class="jumbotron">
				<div class="row text-left">
					<div class="row">
						<h2>Informe um vídeo e escolha o formato para o qual deseja
							convertê-lo.</h2>
					</div>
				</div>
			</div>
		</div>

		<form th:action="@{/videos/converter/}" method="POST"
			th:object="${novoVideo}" enctype="multipart/form-data">
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text">Upload</span>
				</div>
				<div class="custom-file">
					<input type="file" th:field="*{file}" class="custom-file-input"
						id="inputGroupFile01"> <label class="custom-file-label"
						for="inputGroupFile01">Escolha vídeo</label>
				</div>
			</div>
			<div class="form-row">
				<div class="form-group col-md-6">
					<select id="inputState" class="form-control"
						th:field="*{formatoDestino}">
						<option value="" selected>Selecione o formato de destino</option>
						<option value="1">MP4</option>
						<option value="2">WebM</option>
						<option value="3">Ogg</option>
					</select>
				</div>
			</div>
			<button type="submit" class="btn btn-primary">Submeter</button>
		</form>

		<p />

		<div th:if="${videoUrl != null}">

			<video controls>
				<source th:src="${videoUrl}" th:type="${videoContentType}">
				<p>
					Your browser doesn't support HTML5 video. Here is a <a
						th:href="${videoUrl}">link to the video</a> instead.
				</p>
			</video>

		</div>

	</div>
	<script type="text/javascript">
		$("#inputGroupFile01").on('change', function() {
			var fileName = $(this).val();
			$(this).next('.custom-file-label').html(fileName);
		});
	</script>

</body>
</html>